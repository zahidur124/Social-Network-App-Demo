!function(l){var s="like",t="dislike",i={init:function(s){this.opts=l.extend(!0,{},l.fn.likeDislike.defaults,s);var t=this.opts;return this.btns=l(this).find("."+t.likeBtnClass+", ."+t.dislikeBtnClass),this.readOnly=i.readOnly,t.readOnly=!t.readOnly,this.readOnly(!t.readOnly),t.activeBtn&&i._btnDown.call(this,t.activeBtn),this},readOnly:function(l){var s=this.opts;if(s.readOnly!==l){var t=this.btns;if(s.readOnly=l,l)i._unbind.call(this,t);else{if(!s.reverseMode){var n=t.not("."+s.activeClass);n.length&&(t=n)}i._bind.call(this,t)}}},_btnDown:function(l){var s=i._getBtnByType.call(this,l);s.addClass(this.opts.activeClass),this.opts.reverseMode||i._unbind.call(this,s)},_btnUp:function(l){var s=i._getBtnByType.call(this,l);this.opts.reverseMode||i._bind.call(this,s),s.removeClass(this.opts.activeClass)},_getBtnByType:function(i){return i===s?l(this).find("."+this.opts.likeBtnClass):i===t?l(this).find("."+this.opts.dislikeBtnClass):void l.error("Wrong button type: "+i)},_bind:function(n){var e=this,a=e.opts;n.removeClass(a.disabledClass),n.bind("click",function(n){var r=l(this),c=r.hasClass(a.likeBtnClass)?s:t,o=!(a.beforeClick&&!a.beforeClick.call(e,c,n));if(o){var d=r.hasClass(a.activeClass),b=e.btns.hasClass(a.activeClass),h=0,p=0;a.reverseMode?c===s?d?(i._btnUp.call(e,s),c=null,h=-1):(i._btnDown.call(e,s),i._btnUp.call(e,t),p=b?-1:p,h=1):d?(i._btnUp.call(e,t),c=null,p=-1):(i._btnDown.call(e,t),i._btnUp.call(e,s),h=b?-1:h,p=1):c===s?b?(i._btnUp.call(e,t),i._btnDown.call(e,s),p=d?p:-1,h=1):(i._btnDown.call(e,s),h=1):b?(i._btnUp.call(e,s),i._btnDown.call(e,t),h=d?h:-1,p=1):(i._btnDown.call(e,t),p=1),a.click.call(e,c,h,p,n)}})},_unbind:function(l){l.addClass(this.opts.disabledClass),l.unbind()}};l.fn.likeDislike=function(s){return i[s]?i[s].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof s&&s?void l.error("Method "+s+" does not exist!"):i.init.apply(this,arguments)},l.fn.likeDislike.defaults={click:null,beforeClick:null,activeBtn:null,readOnly:!1,reverseMode:!1,likeBtnClass:"like",dislikeBtnClass:"dislike",activeClass:"active",disabledClass:"disabled"}}(jQuery);